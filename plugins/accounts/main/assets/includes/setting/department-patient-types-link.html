<script src="assets/js/plugins/forms/selects/select2.min.js"></script>
<script>$('select.select').select2({
		placeholder: "Select an option",
		allowClear: true
	});</script>
<div ng-controller="accountsBillingSettingDepartmentPatientTypesLinkingController">
	<div class="row">
		<div class="form-group col-md-6 col-md-offset-3">
			<label class="control-label">Select Department</label>
			<select class="select" ng-model="currentDepartment">
<option></option>
				<option ng-repeat="department in departments" value="{{department.DepartmentID}}">{{department.Name}} ({{department.GroupName}})</option>
			</select>
		</div>
	</div>
	
	<table datatable="" dt-options="linkDtOptions" dt-columns="linkDtColumns" dt-instance="linkDtInstance" class="table table-condensed table-striped table-hover"></table>

	<div id="new_setting_department_patient_types_link" class="modal fade">
		<div class="modal-dialog modal-xs">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" onclick="$('#new_setting_department_patient_types_link').modal('hide')">&times;</button>
					<h6 class="modal-title">Select Patient Type(s)</h6>
				</div>

				<div class="modal-body">
					<div class="form-group">
						<div class="col-sm-12">
							<label>Patient Category </label>
							<select class="select" ng-model="patientTypeSelector">
<option></option>
								<option ng-repeat="category in patientCategories" value="{{category.CategoryID}}">{{category.CategoryName}}</option>
							</select>
							<div style="height:400px !important;" class="overflow-auto mt-10">
								<table class="table table-condensed table-striped">
									<thead class="bg-success">
										<tr>
											<th><input type="checkbox" ng-model="allPatientTypeCheckboxToggler" ng-click="toggleAllPatientTypeCheckbox()"/></th>
											<th>Patient Type</th>
										</tr>
									</thead>
									<tbody>
										<tr ng-repeat="type in patientTypes">
											<td><input type="checkbox" ng-model="patientTypeCheckbox[type.PatientTypeID]" ng-click="patientTypeCheckboxNames[type.PatientTypeID] = type.PatientTypeName"/></td>
											<td>{{type.PatientTypeName}}</td>
										</tr>
									</tbody>
								</table>
							</div>
						</div>
					</div>
				</div>

				<div class="modal-footer">
					<div class="col-sm-12 mt-10">
						<button class="btn btn-warning" ng-click="completeLinking()"><i class="icon-save"></i> Link to selected department</button>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>