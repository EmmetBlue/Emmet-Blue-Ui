angular.module("EmmetBlue").controller("nursingSettingAdmissionBillingTypeItemsController",function(e,n){function t(e){deleteButtonAction="manage('delete',"+e.AdmissionBillingItemID+")";var e="data-option-id='"+e.AdmissionBillingItemID+"' data-option-name='"+e.BillingTypeItemName+"'";return deleteButton="<button class='btn btn-default btn-fields' ng-click=\""+deleteButtonAction+'"'+e+"> <i class='fa fa-close'></i> Remove from list</button>","<div class='btn-group'>"+deleteButton+"</div>"}function i(){e.dtInstance.reloadData()}function l(){var t=n.serverRequest("/accounts-biller/billing-type-items/view-by-staff-uuid?resourceId=0&uuid="+n.userSession.getUUID(),"GET");t.then(function(n){e.billingTypeItems=n},function(e){n.errorHandler(e)})}e.dtInstance={},e.dtOptions=n.DT.optionsBuilder.fromFnPromise(function(){return n.serverRequest("/nursing/admission-billing-items/view","GET")}).withPaginationType("full_numbers").withDisplayLength(10).withFixedHeader().withOption("createdRow",function(t){n.compile(angular.element(t).contents())(e)}).withOption("headerCallback",function(t){e.headerCompiled||(e.headerCompiled=!0,n.compile(angular.element(t).contents())(e))}),e.dtColumns=[n.DT.columnBuilder.newColumn("BillingTypeItemName").withTitle("Current Fixed Billing Items For Admitted Patients"),n.DT.columnBuilder.newColumn(null).withTitle("Action").renderWith(t).notSortable()],e.billingTypeItems={},l(),e.manage=function(e,t){switch(e){case"delete":var l="Delete Prompt",o="You are about to remove "+$(".btn-fields[data-option-id='"+t+"']").attr("data-option-name")+" from the billing items list. Do you want to continue?",s=!0,r=function(){var e=n.serverRequest("/nursing/admission-billing-items/delete?"+n.serializeParams({resourceId:t}),"DELETE");e.then(function(){n.notify("Operation Successful","The selected billing type item has been unlinked successfully","success"),i()},function(e){n.errorHandler(e)})},u="warning",a="Delete";n.confirm(l,o,s,r,u,a)}},e.submit=function(){var t=e.billingTypeItem;n.serverRequest("/nursing/admission-billing-items/new","POST",{item:t}).then(function(){n.notify("Operation Successful","The selected billing type item has been linked successfully","success"),i()},function(e){n.errorHandler(e)})}});