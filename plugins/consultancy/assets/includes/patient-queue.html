<div ng-controller="patientQueueController">
	<div class="modal fade" id="_patient-queue">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header bg-warning">
					<h6 class="modal-title">Queued Patients <span class="pull-right">(There are {{queuedPatients.length}} unprocessed patients on queue)</span></h6>
				</div>
				<div class="modal-body">
					<div class="row" ng-if="queuedPatients.length < 1">
						<div class="col-md-12">
							<h1 class="text-center text-success">
								<i class="fa fa-thumbs-up display-block" style="font-size: 5em"></i>
							</h1>
							<h5 class="text-center display-block text-primary"><i class="fa fa-info-circle"></i> All clear, there are currently no patients on queue</h5 >
						</div>
					</div>
					<div class="row" ng-if="queuedPatients.length > 0">
						<div class="col-md-6">
							<h6 class="pull-right">Enter a patients name to search:</h6>
						</div>
						<div class="col-md-6">
							<input class="form-control pull-right" placeholder="filter patients" ng-model="filterQueuedPatients"/>
						</div>
						<table class="table table-condensed table-hover">
							<thead class="bg-success">
								<th></th>
								<th colspan="1">Patients Full Name</th>
								<th colspan="2">Queue Time</th>
							</thead>
							<tbody>
								<tr ng-repeat="patient in queuedPatients | filter:filterQueuedPatients">
									<td class="text-bold" style="border-right: 1px solid #4CAF50">{{$index + 1}}</td>
									<td class="media">
										<div class="media-left media-middle">
											<a href="#">
												<img src="{{loadImage(patient.patientInfo.patientpicture)}}" class="img-circle" alt="">
											</a>
										</div>

										<div class="media-body">
											<div class="media-heading text-semibold">{{patient.patientInfo.patientfullname}}</div>
											<span ng-hide="true">{{patient.patientInfo.patientuuid}}</span>
											<span class="text-muted">{{patient.patientInfo.patienttypename}}, {{patient.patientInfo.categoryname}}</span>
										</div>
									</td>
									<td>{{patient.QueueDate}}</td>
									<td>
										<a class="btn btn-link" ng-click="removeFromQueue(patient.QueueID)"><i class="fa fa-check"></i> mark as processed</a>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>