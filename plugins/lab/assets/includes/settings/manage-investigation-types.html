<script src="assets/js/plugins/forms/selects/select2.min.js"></script>
<script>$('select.select').select2({
		placeholder: "Select an option",
		allowClear: true
	});</script>

<div ng-controller="labInvestigationTypesController">
	<div class="table-responsive col-md-12">
		<table datatable="" dt-options="dtOptions" dt-columns="dtColumns" dt-instance="dtInstance" class="table table-condensed table-striped table-hover">

		</table>
	</div>

	<div id="new_investigation_type" class="modal fade">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header bg-warning">
					<button type="button" class="close" onclick="$('#new_investigation_type').modal('hide')">&times;</button>
					<h6 class="modal-title">Create a new investigation type</h6>
				</div>

				<div class="modal-body">
					<form role="form">
						<div class="form-group">
							<div class="row">
								<div class="content-group col-sm-12">
									<label>Lab</label>
									<select class="select" ng-model="newInvestigationType.lab">
<option></option>
										<option value="{{lab.LabID}}" ng-repeat="lab in labs">{{lab.LabName}}</option>
									</select>
								</div>
								<div class="content-group col-sm-12">
									<label>Investigation Type name</label>
									<input type="text" class="form-control" ng-model="newInvestigationType.name">
								</div>
								<div class="content-group col-sm-12">
									<label>Investigation Type description</label>
									<textarea class="form-control" cols="3" rows="3" ng-model="newInvestigationType.description"></textarea>
								</div>
							</div>
						</div>
					</form>
				</div>

				<div class="modal-footer">
					<button type="button" class="btn btn-link" onclick="$('#new_investigation_type').modal('hide')" ng-click="newInvestigationType = {}"><i class="fa fa-times-circle-o"></i> Close</button>
					<button type="button" class="btn btn-warning" ng-click="saveNewInvestigationType()"><span class="hide loader pull-left"><i class="fa fa-spinner fa-spin"> </i></span>  Save</button>
				</div>
			</div>
		</div>
	</div>

	<div id="edit_investigation_type" class="modal fade">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header bg-warning">
					<button type="button" class="close" onclick="$('#edit_investigation_type').modal('hide')">&times;</button>
					<h6 class="modal-title">Create a new investigation type</h6>
				</div>

				<div class="modal-body">
					<form role="form">
						<div class="form-group">
							<div class="row">
								<div class="content-group col-sm-12">
									<label>Investigation Type name</label>
									<input type="text" class="form-control" ng-model="tempInvestigationType.InvestigationTypeName">
								</div>
								<div class="content-group col-sm-12">
									<label>Lab <span class="text-hint text-small">(Leave blank to retain current lab)</span></label>
									<select class="select" ng-model="tempInvestigationType.InvestigationTypeLab">
<option></option>
										<option value="{{lab.LabID}}" ng-repeat="lab in labs">{{lab.LabName}}</option>
									</select>
								</div>
								<div class="content-group col-sm-12">
									<label>Investigation Type description</label>
									<textarea class="form-control" cols="3" rows="3" ng-model="tempInvestigationType.InvestigationTypeDescription"></textarea>
								</div>
							</div>
						</div>
					</form>
				</div>

				<div class="modal-footer">
					<button type="button" class="btn btn-link" onclick="$('#edit_investigation_type').modal('hide')" ng-click="tempInvestigationType = {}"><i class="fa fa-times-circle-o"></i> Close</button>
					<button type="button" class="btn btn-warning" ng-click="saveEditedInvestigationType()"><span class="hide loader pull-left"><i class="fa fa-spinner fa-spin"> </i></span>  Save</button>
				</div>
			</div>
		</div>
	</div>
</div>

<ng-include src="'plugins/lab/assets/includes/investigation-type-fields.html'"></ng-include>