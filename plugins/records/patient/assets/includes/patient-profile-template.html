<div class="row">
	<div class="col-md-3">
		<a href="{{loadImage(patientInfo.patientidentificationdocument)}}" data-popup="lightbox">
			<img class="img img-responsive" ng-src="{{loadImage(patientInfo.patientpicture)}}" alt="No picture has been uploaded, continue working with this profile at your discretion"/>
		</a>
	</div>
	<div class="col-md-9">
		<h1 class="text-bold text-uppercase" style="margin-top: -8px; ">{{patientInfo.patientfullname}}</h1>
		<p class="text-thin text-uppercase">{{patientInfo.patientuuid}}</p>
		<h1 class="text-size-large text-light text-muted">{{patientInfo.patienttypename}}, {{patientInfo.categoryname}}</h1>
		<h2 class="text-size-mini text-thin mb-20">
			<span class="label label-info no-border-radius" ng-if="patientInfo['date of birth'] != null">{{toLocaleDate(patientInfo["date of birth"])}}</span>
			<span class="label label-success no-border-radius" ng-if="patientInfo['date of birth'] != null">({{getAge(patientInfo["date of birth"])}} years old)</span>
			<span class="label label-warning bg-teal no-border-radius" ng-if="patientInfo['occupation'] != null">{{patientInfo["occupation"]}}</span>
		</h2>
	</div>
</div>
<div class="row mt-20">
	<div class="col-md-12">
		<div class="tabbable">
			<ul class="nav nav-tabs nav-tabs-highlight nav-justified">
				<li class="active" href="#{{patientInfo['patientid']}}-profile-info" data-toggle="tab"><a>Basic Profile Information</a></li>
				<li href="#{{patientInfo['patientid']}}-hospital-history" data-toggle="tab"><a>Hospital History</a></li>
				<li href="#{{patientInfo['patientid']}}-diagnosis" data-toggle="tab"><a>Diagnoses</a></li>
			</ul>

			<div class="tab-content">
				<div class="tab-pane active" id="{{patientInfo['patientid']}}-profile-info">
					<div class="col-xs-4">
						<table class="table">
							<tr>
								<td class="no-border text-muted"><i class='icon-calendar52'></i> Date Of Birth</td>
								<td class="no-border" ng-if='patientInfo["date of birth"]'>{{toLocaleDate(patientInfo["date of birth"])}}</td>
								<td class="no-border" ng-if='!patientInfo["date of birth"]'>N/A</td>
							</tr>
							<tr>
								<td class="no-border text-muted"><i class='icon-yin-yang'></i> Gender</td>
								<td class="no-border" ng-if='patientInfo["gender"]'>{{patientInfo["gender"]}}</td>
								<td class="no-border" ng-if='!patientInfo["gender"]'>N/A</td>
							</tr>
							<tr>
								<td class="no-border text-muted"><i class='icon-man-woman'></i> Marital Status</td>
								<td class="no-border" ng-if='patientInfo["marital status"]'>{{patientInfo["marital status"]}}</td>
								<td class="no-border" ng-if='!patientInfo["marital status"]'>N/A</td>
							</tr>
							<tr>
								<td class="no-border text-muted"><i class='icon-briefcase'></i> Occupation</td>
								<td class="no-border" ng-if='patientInfo["occupation"]'>{{patientInfo["occupation"]}}</td>
								<td class="no-border" ng-if='!patientInfo["occupation"]'>N/A</td>
							</tr>
							<tr>
								<td class="no-border text-muted"><i class='icon-users4'></i> Religious Affiliation</td>
								<td class="no-border" ng-if='patientInfo["religious affiliation"]'>{{patientInfo["religious affiliation"]}}</td>
								<td class="no-border" ng-if='!patientInfo["religious affiliation"]'>N/A</td>
							</tr>
						</table>
					</div>

					<div class="col-xs-4">
						<table class="table">
							<tr>
								<td class="no-border text-muted"><i class='icon-home5'></i> Home Address</td>
								<td class="no-border" ng-if='patientInfo["home address"]'>{{patientInfo["home address"]}}</td>
								<td class="no-border" ng-if='!patientInfo["home address"]'>N/A</td>
							</tr>
							<tr>
								<td class="no-border text-muted"><i class='icon-city'></i> State Of Residence</td>
								<td class="no-border" ng-if='patientInfo["state of residence"]'>{{patientInfo["state of residence"]}}</td>
								<td class="no-border" ng-if='!patientInfo["state of residence"]'>N/A</td>
							</tr>
							<tr>
								<td class="no-border text-muted"><i class='icon-city'></i> State Of Origin</td>
								<td class="no-border" ng-if='patientInfo["state of origin"]'>{{patientInfo["state of origin"]}}</td>
								<td class="no-border" ng-if='!patientInfo["state of origin"]'>N/A</td>
							</tr>
							<tr>
								<td class="no-border text-muted"><i class='icon-home2'></i> LGA</td>
								<td class="no-border" ng-if='patientInfo["lga"]'>{{patientInfo["lga"]}}</td>
								<td class="no-border" ng-if='!patientInfo["lga"]'>N/A</td>
							</tr>
							<tr>
								<td class="no-border text-muted"><i class='icon-comment-discussion'></i> Tribe</td>
								<td class="no-border" ng-if='patientInfo["tribe"]'>{{patientInfo["tribe"]}}</td>
								<td class="no-border" ng-if='!patientInfo["tribe"]'>N/A</td>
							</tr>
						</table>
					</div>


					<div class="col-xs-4">
						<table class="table">
							<tr>
								<td class="no-border text-muted"><i class='icon-phone2'></i> Phone Number</td>
								<td class="no-border" ng-if='patientInfo["phone number"]'>{{patientInfo["phone number"]}}</td>
								<td class="no-border" ng-if='!patientInfo["phone number"]'>N/A</td>
							</tr>
							<tr>
								<td class="no-border text-muted"><i class='icon-envelop5'></i> Email Address</td>
								<td class="no-border" ng-if='patientInfo["email address"]'>{{patientInfo["email address"]}}</td>
								<td class="no-border" ng-if='!patientInfo["email address"]'>N/A</td>
							</tr>
							<tr>
								<td class="no-border text-muted"><i class='icon-phone'></i> Contact (Emergency)</td>
								<td class="no-border" ng-if='patientInfo["reference contact, emergency"]'>{{patientInfo["reference contact, emergency"]}}</td>
								<td class="no-border" ng-if='!patientInfo["reference contact, emergency"]'>N/A</td>
							</tr>
							<tr>
								<td class="no-border text-muted"><i class='icon-phone-plus'></i> Contact (Minor)</td>
								<td class="no-border" ng-if='patientInfo["reference contact, minor"]'>{{patientInfo["reference contact, minor"]}}</td>
								<td class="no-border" ng-if='!patientInfo["reference contact, minor"]'>N/A</td>
							</tr>
							<tr>
								<td class="no-border text-muted"><i class='icon-user-plus'></i> Next Of Kin</td>
								<td class="no-border" ng-if='patientInfo["next of kin"]'>{{patientInfo["next of kin"]}}</td>
								<td class="no-border" ng-if='!patientInfo["next of kin"]'>N/A</td>
							</tr>
						</table>
					</div>

				</div>

				<div class="tab-pane" id="{{patientInfo['patientid']}}-hospital-history">
					<div class="table-responsive">
						<table class="col-md-12 table table-bordered table-condensed table-hover">
							<thead>
								<tr class="warning text-bold">
									<th>S/N</th>
									<th>Date attended/admitted</th>
									<th>Referred By</th>
									<th>Physician/Surgeon</th>
									<th>Ward/Clinic</th>
									<th>Date Discharged</th>
									<th>Discharged To</th>
									<th>Condition</th>
								</tr>
							</thead>
							<tbody>
								<!-- <tr>
									<td class="no-border">5</td>
									<td class="no-border">09/10/2015</td>
									<td class="no-border">Adelaja Amos</td>
									<td class="no-border">Dr. Abubakar</td>
									<td class="no-border">Male Orthopedic</td>
									<td class="no-border">09/14/2015</td>
									<td class="no-border">Adelaja Amos</td>
									<td class="no-border" class="danger">Worsened</td>
								</tr> -->
							</tbody>
						</table>
					</div>
				</div>

				<div class="tab-pane" id="{{patientInfo['patientid']}}-diagnosis">
					<table class="col-md-12 table table-bordered table-condensed">
						<thead class="bg-info">
							<tr>
								<th>S/N</th>
								<th>Diagnosis Date</th>
								<th>Title</th>
								<th>Diagnosis</th>
							</tr>
						</thead>
						<tbody>
							<tr ng-repeat="item in diagnoses">
								<td class="no-border">{{$index + 1}}</td>
								<td class="no-border">{{toLocaleDate(item.DiagnosisDate)}}</td>
								<td class="no-border" ng-if="item.DiagnosisTitle">{{item.DiagnosisTitle}}</td>
								<td class="no-border" ng-if="!item.DiagnosisTitle">N/A</td>
								<td class="no-border"><em><a data-toggle="modal" data-target="#modal-diagnosis" ng-click="setCurrentDiagnosis($index)"><i class="icon-info22"></i> Load diagnosis information</a></em></td>
							</tr>
							<tr ng-if="diagnoses.length < 1">
								<td colspan="5" class="text-muted text-center">No Diagnosis Has Been Completed For This Patient</td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</div>
	<div id="modal-diagnosis" class="modal fade">
		<div class="modal-dialog modal-lg">
			<div class="modal-content">
				<div class="modal-header bg-success">
					<button type="button" class="close" data-dismiss="modal"><i class="icon-cross"></i></button>
					<h5 class="modal-title">Diagnosis Information</h5>
				</div>

				<div class="modal-body">
					<div class="col-md-12">
						<h6><span class="text-muted">Diagnosis Title:</span> {{diagnosis.DiagnosisTitle}}</h6>
						<h6 title="{{diagnosis.DiagnosisDate}}"><span class="text-muted">Diagnosis Date:</span> {{toDateString(diagnosis.DiagnosisDate)}}</h6>
						<h6><span class="text-muted">Diagnosis By:</span> {{diagnosis.DiagnosisBy}}</h6>
						<h6 class="text-muted" ng-if="diagnosis.Diagnosis.conclusion.diagnosis.description">Extra Information</h6>
						<p>{{diagnosis.Diagnosis.conclusion.diagnosis.description}}</p>
					</div>
					<div class="table-responsive col-md-9">
						<table class="table table-bordered">
							<tbody>
								<tr class="bg-info text-center" ng-if="diagnosis.Diagnosis.complaints.length > 0">
									<th colspan="3">Presenting Complaints</th>
								</tr>
								<tr ng-repeat="complaint in diagnosis.Diagnosis.complaints" ng-if="diagnosis.Diagnosis.complaints.length > 0">
									<td class="no-border">{{$index + 1}}</td>
									<td class="no-border">{{complaint.title}}</td>
									<td class="no-border">{{complaint.title}}</td>
									<td class="no-border">{{complaint.description}}</td>
								</tr>
								<tr class="bg-info text-center" ng-if="diagnosis.Diagnosis.investigations.lab.legnth > 0 || diagnosis.Diagnosis.investigations.imaging.legnth > 0">
									<th colspan="3">Investigation</th>
								</tr>
								<tr class="active text-center" ng-if="diagnosis.Diagnosis.investigations.lab.legnth > 0">
									<th colspan="3"><span class="text-center">Laboratory</span></th>
								</tr>
								<tr ng-repeat="investigation in diagnosis.Diagnosis.investigations.lab" ng-if="diagnosis.Diagnosis.investigations.lab.legnth > 0">
									<td class="no-border">{{$index+1}}</td>
									<td class="no-border">{{investigation.title}}</td>
									<td class="no-border">{{investigation.description}}</td>
								</tr>
								<tr class="active text-center" ng-if="diagnosis.Diagnosis.investigations.imaging.length > 0">
									<th colspan="3"><span class="text-center">Radiology</span></th>
								</tr>
								<tr ng-repeat="investigation in diagnosis.Diagnosis.investigations.imaging" ng-if="diagnosis.Diagnosis.investigations.imaging.length > 0">
									<td class="no-border">{{$index+1}}</td>
									<td class="no-border">{{investigation.title}}</td>
									<td class="no-border">{{investigation.description}}</td>
								</tr>
							</tbody>
						</table>
					</div>
					<div class="col-md-3">
						<table class="table table-bordered">
							<tbody>
								<tr class="bg-teal text-center" ng-if="diagnosis.Diagnosis.conclusion.prescription.length > 0">
									<th colspan="3">Prescription</th>
								</tr>
								<tr ng-repeat="item in diagnosis.Diagnosis.conclusion.prescription" ng-if="diagnosis.Diagnosis.conclusion.prescription.length > 0">
									<td class="no-border">{{$index + 1}}</td>
									<td>{{item.item}}</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
				<div class="modal-footer">
				</div>
			</div>
		</div>
	</div>
</div>